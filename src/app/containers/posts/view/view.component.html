<div class="back">
  <app-back-button [link]="'posts/' + category"></app-back-button>
</div>
<div *ngIf="post$ | async as post; else noPost">
  <app-post-card [post]="post" (delete)="deletePost()" (report)="reportPost()">
  </app-post-card>
  <app-comment-list
    [pages]="pages"
    [authId]="authId"
    [postId]="postId"
  ></app-comment-list>
  <app-comment-form [authId]="authId" [postId]="postId"> </app-comment-form>
</div>

<ng-template #noPost>
  <ng-container [ngSwitch]="!!postError">
    <div *ngSwitchCase="true" class="post-error">{{ postError }}</div>
    <mat-progress-bar *ngSwitchCase="false" mode="indeterminate">
    </mat-progress-bar>
  </ng-container>
</ng-template>
